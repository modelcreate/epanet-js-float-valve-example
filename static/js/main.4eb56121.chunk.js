(this["webpackJsonpepanet-js-float-valve-example"]=this["webpackJsonpepanet-js-float-valve-example"]||[]).push([[0],{216:function(t,e,n){t.exports=n(409)},221:function(t,e,n){},222:function(t,e,n){},229:function(t,e){},231:function(t,e){},263:function(t,e){},264:function(t,e){},409:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(202),o=n.n(i),l=(n(221),n(129)),s=(n(222),n(45)),c=n(418),u=n(421),m=n(420),p=n(415),d=[2.36,2.362,2.366,2.369,2.375,2.38,2.381,2.385,2.387,2.387,2.39,2.39,2.391,2.392,2.394,2.393,2.395,2.396,2.396,2.393,2.393,2.388,2.385,2.38,2.375,2.367,2.357,2.338,2.324,2.32,2.313,2.313,2.31,2.311,2.312,2.318,2.319,2.325,2.325,2.325,2.327,2.329,2.333,2.33,2.328,2.332,2.334,2.339,2.342,2.341,2.342,2.342,2.342,2.34,2.337,2.338,2.334,2.332,2.331,2.331,2.33,2.332,2.333,2.332,2.332,2.332,2.329,2.324,2.324,2.331,2.333,2.337,2.338,2.335,2.33,2.328,2.328,2.331,2.329,2.329,2.327,2.326,2.331,2.334,2.337,2.335,2.337,2.343,2.339,2.342,2.34,2.34,2.344,2.347,2.352,2.359],g=function(t){var e=t.xLabel,n=t.yLabel,a=t.data,i=a.map((function(t,e){return{x:t.x,y:d[e]}}));return r.a.createElement(c.a,{theme:u.a.material,height:175,width:400},r.a.createElement(m.a,{style:{axisLabel:{fontSize:8,padding:30},tickLabels:{fontSize:6,padding:5}},label:e}),r.a.createElement(m.a,{style:{axisLabel:{fontSize:8,padding:30},tickLabels:{fontSize:6,padding:5}},dependentAxis:!0,label:n}),r.a.createElement(p.a,{style:{data:{stroke:"#1528f7"},labels:{fill:"#00000",fontSize:20,textAnchor:"start"}},data:a}),r.a.createElement(p.a,{data:i,style:{data:{stroke:"green"}}}))},h=[[0,100000002004087e6],[2,1e10],[4,1e5],[10,5012],[20,1202],[40,250],[60,50],[80,10],[100,2]];var f=function(t,e,n,a){var r=function(t,e,n){if(n<t-e)return 100;if(n>t)return 0;return(t-n)/e*100}(t,e,n);return h.reduce((function(t,e){if(1===t.length)return t;if(r===e[0])return[e[1]*a];if(r>e[0])return e;var n=(r-t[0])/(e[0]-t[0]);return[Math.pow(e[1]*a,n)*Math.pow(t[1]*a,1-n)]}),h[0])[0]},v=function(t,e,n,a){t.openH(),t.initH(s.a.NoSave);var r=t.getNodeIndex("Tank"),i=t.getLinkIndex("Res.1"),o=1/0,l=[];do{var c=t.getNodeValue(r,s.c.Pressure),u=f(e,n,c,a);t.setLinkValue(i,s.b.Setting,u);var m=t.runH();l.push({x:m/60/60,y:c}),o=t.nextH()}while(o>0);return t.closeH(),l},E=new s.e,S=new s.d(E);E.writeFile("net1.inp","[TITLE]\nFloat valves simulation in EPANET\n\n[JUNCTIONS]\n;ID              \tElev        \tDemand      \tPattern         \n 1              \t0         \t0           \t                \t;\n 2             \t103.2         \t0         \t                \t;\n 3              \t103.2         \t0         \t                \t;\n 4              \t0         \t0         \t                \t;\n\n\n[RESERVOIRS]\nRes 123.2\n\n[TANKS]\n;ID              \tElevation   \tInitLevel   \tMinLevel    \tMaxLevel    \tDiameter    \tMinVol      \tVolCurve\n Tank               \t100.0         \t2.36         \t0         \t3.2         \t9.12        \t0           \t                \t;\n\n[PIPES]\n;ID              \tNode1           \tNode2           \tLength      \tDiameter    \tRoughness   \tMinorLoss   \tStatus\n 1.2              1              \t  2              \t    1       \t150          \t0.01         \t0           \tOpen  \t;\n 3.Tank              3              \t  Tank             1       \t999          \t0.01         \t0           \tOpen  \t;\nTank.4   Tank 4 1 150 \t0.01         \t0           \tCV  \t;\n\n[VALVES]\n;ID              \tNode1           \tNode2           \tDiameter    \tType\tSetting     \tMinorLoss   \nRes.1 Res 1 100 TCV 5000 0.001\n2.3 2 3  100 PSV 0 0.001\n\n\n[DEMANDS]\n;Junction        \tDemand      \tPattern         \tCategory\n4 1.000000 4\n\n[PATTERNS]\n4\t2.0400\t1.8023\t1.7116\t1.7003\t1.5524\t1.5076\n4\t1.5524\t1.5188\t1.6208\t1.5076\t1.5076\t1.6208\n4\t1.5076\t1.4851\t1.4729\t1.4851\t1.4504\t1.5749\n4\t1.5412\t1.6657\t1.8023\t1.8584\t1.7911\t1.9717\n4\t2.2103\t2.3460\t3.1396\t3.7169\t2.9580\t3.4568\n4\t3.2640\t3.5476\t3.2069\t3.2303\t3.1171\t2.9804\n4\t2.6744\t2.9356\t3.0376\t2.8111\t2.6408\t2.6183\n4\t2.9356\t2.9917\t2.4817\t2.7091\t2.2777\t2.4704\n4\t2.4143\t2.5837\t2.4704\t2.4592\t2.7091\t2.7428\n4\t2.4817\t2.7540\t2.8448\t2.8223\t2.7316\t2.6857\n4\t2.7316\t2.5837\t2.6408\t2.7540\t2.6520\t2.7877\n4\t3.1957\t2.9356\t2.2889\t2.4480\t2.4704\t2.4368\n4\t2.7989\t2.9131\t2.9804\t2.6071\t2.7316\t2.6744\n4\t2.7091\t2.8897\t2.7091\t2.5949\t2.5051\t2.2216\n4\t2.7652\t2.5388\t2.2777\t2.5388\t2.3460\t2.5163\n4\t2.6520\t2.2103\t2.2664\t1.9951\t1.8472\t1.6208\n\n\n[TIMES]\nPattern Timestep 0:15\nDuration 23:45:00\nHydraulic Timestep 0:15\nQuality Timestep 0:15\nPattern Start 0:00\nReport Timestep 0:15\nReport Start 0:00\nStart ClockTime 12:00 AM\nStatistic None\n\n[OPTIONS]\nUnits LPS\nHeadloss D-W\nTrials 500\nAccuracy 0.01\nUNBALANCED CONTINUE 999\n\n\n\n[END]"),S.open("net1.inp","report.rpt","out.bin");var T=function(){var t=Object(a.useState)(1),e=Object(l.a)(t,2),n=e[0],i=e[1],o=Object(a.useState)(2.5),s=Object(l.a)(o,2),c=s[0],u=s[1],m=performance.now(),p=v(S,c,n,2),d=performance.now()-m;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Float Valve in epanet-js example"),r.a.createElement("a",{className:"App-link",href:"https://github.com/modelcreate/epanet-js"},"Learn more about epanet-js"),r.a.createElement("p",null,"Model Ran in: ",d.toFixed(0),"ms")),r.a.createElement("p",null,"This is a work in progress demo of getting a float valve with continuous regulation working in epanet-js."),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"depth"},"Depth: ",c),r.a.createElement("input",{type:"range",id:"depth",name:"depth",min:"1.5",max:"3.4",step:.01,onChange:function(t){u(Number(t.target.value))},value:c})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"regRange"},"Regulation Range: ",n),r.a.createElement("input",{type:"range",id:"regRange",name:"regRange",min:"0.1",max:"1",step:.01,onChange:function(t){i(Number(t.target.value))},value:n})),r.a.createElement(g,{xLabel:"Time (hours)",yLabel:"Depth (m)",data:p}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[216,1,2]]]);
//# sourceMappingURL=main.4eb56121.chunk.js.map